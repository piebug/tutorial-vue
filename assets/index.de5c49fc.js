import{p as e,a as t,o as l,c as s,b as o,F as a,r as i,w as n,d as m,v as d,t as c,e as p,f as r,g as y,h as u,i as h,j as b}from"./vendor.70c3173f.js";const E={name:"employee-table",props:{employees:Array},data:()=>({editing:null}),methods:{editMode(e){this.cachedEmployee=Object.assign({},e),this.editing=e.id},editEmployee(e){""!==e.name&&""!==e.email&&(this.$emit("edit:employee",e.id,e),this.editing=null)},cancelEdit(e){Object.assign(e,this.cachedEmployee),this.editing=null}}},f=n();e("data-v-12c6c6e7");const g={id:"employee-table"},k={key:0,class:"empty-table"},v={key:1},S=o("thead",null,[o("tr",null,[o("th",null,"Name"),o("th",null,"Email"),o("th",null,"Actions")])],-1),j={key:0},w={key:1},C={key:2},N={key:3},U={key:4},F={key:5};t();const T=f(((e,t,n,p,r,y)=>(l(),s("section",g,[n.employees.length<1?(l(),s("p",k," No employees. ")):(l(),s("table",v,[S,o("tbody",null,[(l(!0),s(a,null,i(n.employees,(t=>(l(),s("tr",{key:t.id},[r.editing===t.id?(l(),s("td",j,[m(o("input",{type:"text","onUpdate:modelValue":e=>t.name=e},null,8,["onUpdate:modelValue"]),[[d,t.name]])])):(l(),s("td",w,c(t.name),1)),r.editing===t.id?(l(),s("td",C,[m(o("input",{type:"text","onUpdate:modelValue":e=>t.email=e},null,8,["onUpdate:modelValue"]),[[d,t.email]])])):(l(),s("td",N,c(t.email),1)),r.editing===t.id?(l(),s("td",U,[o("button",{onClick:e=>y.editEmployee(t)},"Save",8,["onClick"]),o("button",{class:"muted-button",onClick:e=>y.cancelEdit(t)},"Cancel",8,["onClick"])])):(l(),s("td",F,[o("button",{onClick:e=>y.editMode(t)},"Edit",8,["onClick"]),o("button",{onClick:l=>e.$emit("delete:employee",t.id)}," Delete ",8,["onClick"])]))])))),128))])]))]))));E.render=T,E.__scopeId="data-v-12c6c6e7";const V={name:"employee-form",data:()=>({submitting:!1,error:!1,success:!1,employee:{name:"",email:""}}),methods:{handleSubmit(){this.submitting=!0,this.clearStatus(),this.invalidName||this.invalidEmail?this.error=!0:(this.$emit("add:employee",this.employee),this.$refs.first.focus(),this.employee={name:"",email:""},this.error=!1,this.success=!0,this.submitting=!1)},clearStatus(){this.success=!1,this.error=!1}},computed:{invalidName(){return""===this.employee.name},invalidEmail(){return""===this.employee.email}}},$=n();e("data-v-12bdaa18");const _={id:"employee-form"},A={key:0,class:"error-message"},O={key:1,class:"success-message"},D={class:"block"},x=o("span",null,"New employee name",-1),I={class:"block"},P=o("span",null,"New employee email",-1),J=o("button",null,"Add Employee",-1);t();const M=$(((e,t,a,i,n,c)=>(l(),s("section",_,[o("form",{onSubmit:t[6]||(t[6]=r(((...e)=>c.handleSubmit&&c.handleSubmit(...e)),["prevent"]))},[n.error&&n.submitting?(l(),s("p",A," Please fill out all required fields. ")):p("",!0),n.success?(l(),s("p",O," Employee successfully added! ")):p("",!0),o("label",D,[x,m(o("input",{ref:"first",type:"text",class:{"has-error":n.submitting&&c.invalidName},"onUpdate:modelValue":t[1]||(t[1]=e=>n.employee.name=e),onFocus:t[2]||(t[2]=(...e)=>c.clearStatus&&c.clearStatus(...e)),onKeypress:t[3]||(t[3]=(...e)=>c.clearStatus&&c.clearStatus(...e))},null,34),[[d,n.employee.name]])]),o("label",I,[P,m(o("input",{type:"email",class:{"has-error":n.submitting&&c.invalidEmail},"onUpdate:modelValue":t[4]||(t[4]=e=>n.employee.email=e),onFocus:t[5]||(t[5]=(...e)=>c.clearStatus&&c.clearStatus(...e))},null,34),[[d,n.employee.email]])]),J],32)]))));V.render=M,V.__scopeId="data-v-12bdaa18";const q={name:"employees",components:{EmployeeTable:E,EmployeeForm:V},data:()=>({employees:[]}),mounted(){this.getEmployees()},methods:{async getEmployees(){try{const e=await fetch("https://jsonplaceholder.typicode.com/users"),t=await e.json();this.employees=t}catch(e){console.error(e)}},async addEmployee(e){try{const t=await fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}),l=await t.json();this.employees=[...this.employees,l]}catch(t){console.error(t)}},async editEmployee(e,t){try{const l=await fetch(`https://jsonplaceholder.typicode.com/users/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}),s=await l.json();this.employees=this.employees.map((t=>t.id===e?s:t))}catch(l){console.error(l)}},async deleteEmployee(e){try{await fetch(`https://jsonplaceholder.typicode.com/users/${e}`,{method:"DELETE"}),this.employees=this.employees.filter((t=>t.id!==e))}catch(t){console.error(t)}}}},K=n();e("data-v-56ed01ad");const L={id:"employees"},z=o("h1",null,"Employees",-1);t();const B=K(((e,t,a,i,n,m)=>{const d=y("employee-form"),c=y("employee-table");return l(),s("main",L,[z,o(d,{"onAdd:employee":m.addEmployee},null,8,["onAdd:employee"]),o(c,{employees:n.employees,"onEdit:employee":m.editEmployee,"onDelete:employee":m.deleteEmployee},null,8,["employees","onEdit:employee","onDelete:employee"])])}));q.render=B,q.__scopeId="data-v-56ed01ad";const G={name:"app"};G.render=function(e,t,o,a,i,n){const m=y("router-view");return l(),s(m)};const H=[{path:"/employees",component:q}],Q=u({history:h(),routes:H}),R=b(G);R.use(Q),R.mount("#app");
